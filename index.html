<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三周年快乐</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 20px;
        }
        
        .container {
            text-align: center;
            width: 100%;
            max-width: 400px;
            z-index: 10;
        }
        
        .main-button {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            color: #fff;
            font-size: 1.8rem;
            font-weight: bold;
            padding: 20px 40px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .main-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .main-button:hover:before {
            left: 100%;
        }
        
        .main-button:active {
            transform: scale(0.95);
        }
        
        .popup {
            position: absolute;
            width: 130px;
            height: 65px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            z-index: 1;
            padding: 10px;
            font-weight: bold;
            border: 2px solid rgba(255, 255, 255, 0.4);
            user-select: none;
            opacity: 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.5s ease;
            font-size: 14px;
            animation: float 8s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { 
                transform: translateY(0) rotate(0deg) scale(1); 
            }
            25% { 
                transform: translateY(-8px) rotate(2deg) scale(1.05); 
            }
            50% { 
                transform: translateY(-4px) rotate(-1deg) scale(1.02); 
            }
            75% { 
                transform: translateY(-6px) rotate(1deg) scale(1.04); 
            }
        }
        
        .popup:hover {
            transform: scale(1.1) rotate(3deg);
            z-index: 100;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }
        
        .footer {
            position: fixed;
            bottom: 20px;
            text-align: center;
            font-size: 0.8rem;
            opacity: 0.7;
            color: #fff;
            width: 100%;
            z-index: 10;
        }
        
        /* 背景装饰 */
        .bg-element {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            filter: blur(50px);
            z-index: 0;
        }
        
        .bg-1 {
            width: 200px;
            height: 200px;
            background: #ff6b9d;
            top: 10%;
            left: 10%;
            animation: drift 25s linear infinite;
        }
        
        .bg-2 {
            width: 300px;
            height: 300px;
            background: #2575fc;
            bottom: 5%;
            right: 10%;
            animation: drift 30s linear infinite reverse;
        }
        
        .bg-3 {
            width: 250px;
            height: 250px;
            background: #6a11cb;
            top: 50%;
            left: 80%;
            animation: drift 20s linear infinite;
        }
        
        @keyframes drift {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(100px, 100px) rotate(360deg); }
        }
        
        /* 响应式调整 */
        @media (max-width: 480px) {
            .main-button {
                font-size: 1.5rem;
                padding: 18px 30px;
            }
            
            .popup {
                width: 110px;
                height: 55px;
                font-size: 12px;
            }
        }
        
        @media (max-width: 360px) {
            .main-button {
                font-size: 1.3rem;
                padding: 16px 25px;
            }
            
            .popup {
                width: 100px;
                height: 50px;
                font-size: 11px;
            }
        }
        
        /* 星星背景 */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- 背景星星 -->
    <div class="stars" id="stars"></div>
    
    <!-- 背景装饰元素 -->
    <div class="bg-element bg-1"></div>
    <div class="bg-element bg-2"></div>
    <div class="bg-element bg-3"></div>
    
    <div class="container">
        <button class="main-button" id="generateBtn">三周年快乐！</button>
    </div>
    
    <div class="footer">
        <p>点击弹窗可关闭</p>
    </div>

    <script>
        // 提示语数组
        const tips = [
            "三周年快乐", "永远爱你", "幸福长久",
            "携手同行", "感恩有你", "心心相印",
            "白头偕老", "甜蜜如初", "爱意满满",
            "相伴一生", "情深似海", "永结同心",
            "相濡以沫", "爱你如初", "一生一世",
            "甜蜜蜜", "爱永恒", "幸福美满",
            "甜甜蜜蜜", "恩爱如初", "天长地久",
            "三生有幸", "不离不弃", "相守到老",
            "爱你永远", "心心相印", "百年好合"
        ];
        
        // 颜色方案 - 蓝紫色系
        const colors = [
            {bg: "rgba(106, 17, 203, 0.85)", text: "#fff"},
            {bg: "rgba(37, 117, 252, 0.85)", text: "#fff"},
            {bg: "rgba(100, 65, 165, 0.85)", text: "#fff"},
            {bg: "rgba(72, 107, 199, 0.85)", text: "#fff"},
            {bg: "rgba(138, 43, 226, 0.85)", text: "#fff"},
            {bg: "rgba(75, 0, 130, 0.85)", text: "#fff"},
            {bg: "rgba(123, 104, 238, 0.85)", text: "#fff"}
        ];
        
        // 创建星星背景
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 80; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 5 + 's';
                star.style.animationDuration = (Math.random() * 5 + 3) + 's';
                starsContainer.appendChild(star);
            }
        }
        
        // 生成随机位置（全屏分布）
        function generateRandomPosition() {
            const padding = 70;
            return {
                x: Math.random() * (window.innerWidth - padding * 2) + padding,
                y: Math.random() * (window.innerHeight - padding * 2) + padding
            };
        }
        
        // 创建弹窗
        function createPopup(x, y) {
            const popup = document.createElement('div');
            popup.className = 'popup';
            
            // 随机颜色
            const color = colors[Math.floor(Math.random() * colors.length)];
            popup.style.backgroundColor = color.bg;
            popup.style.color = color.text;
            
            // 随机提示语
            const tip = tips[Math.floor(Math.random() * tips.length)];
            popup.textContent = tip;
            
            // 设置位置
            popup.style.left = `${x - 65}px`;
            popup.style.top = `${y - 32.5}px`;
            
            // 随机动画延迟和持续时间
            const delay = Math.random() * 2;
            const duration = 15 + Math.random() * 3; // 15秒左右
            
            popup.style.animationDelay = `${delay}s`;
            popup.style.animationDuration = `${duration}s`;
            
            // 随机旋转
            const rotation = (Math.random() * 10) - 5;
            popup.style.transform = `rotate(${rotation}deg)`;
            
            // 添加点击关闭功能
            popup.addEventListener('click', function() {
                this.style.opacity = '0';
                this.style.transform = 'scale(0.5) rotate(10deg)';
                setTimeout(() => {
                    if (this.parentNode) {
                        this.parentNode.removeChild(this);
                    }
                }, 300);
            });
            
            // 添加到页面
            document.body.appendChild(popup);
            
            // 淡入效果
            setTimeout(() => {
                popup.style.opacity = '1';
            }, 100);
            
            return popup;
        }
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            
            // 生成弹窗
            document.getElementById('generateBtn').addEventListener('click', function() {
                // 按钮点击效果
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
                
                // 设置参数
                const numPoints = 199; // 弹窗数量
                const speed = 5; // 中速（1-10范围，5为中速）
                
                // 计算延迟时间（中速对应的延迟）
                const delay = 300 - (speed - 1) * 30;
                
                let created = 0;
                const interval = setInterval(() => {
                    if (created < numPoints) {
                        const pos = generateRandomPosition();
                        createPopup(pos.x, pos.y);
                        created++;
                    } else {
                        clearInterval(interval);
                    }
                }, delay);
            });
            
            // 添加触摸事件支持
            const generateBtn = document.getElementById('generateBtn');
            generateBtn.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.95)';
            });
            
            generateBtn.addEventListener('touchend', function() {
                this.style.transform = 'scale(1)';
            });
        });
    </script>
</body>
</html>
